<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
  <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
  <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
  <script type="text/javascript" src='jquery-3.1.1.js'></script>

<style>
header {
    background-color:black;
    color:white;
    text-align:center;
    padding:5px;
}
nav {
    line-height:50px;
    background-color:#eeeeee;
    height:500px;
    width:200px;
    float:left;
    padding:5px;
}

.divcss1{
  position:absolute;
  width:1020px;
  height:488px;
  left:190px;
  top:100px;
  padding:10px;
  background: lightblue
}

.d8{
  position:absolute; width:200px;height:100px;left:80px;top:10px; background:lightblue;
}

.table{
  border-style: outset;overflow-y:scroll; line-height:15px;position:absolute; width:220px;height:300px;left:380px;top:30px;
  background: lightgreen
}

footer {
    background-color:black;
    color:white;
    clear:both;
    text-align:center;
    padding:5px;
}
</style>
</head>

<body>

<header>
<h1>Search Friends</h1>
</header>

<nav>
<li><a href="test.html">Home</a></li>
<li><a href="test.html">Badges</a></li>
<li><a href="test.html">Find Study Buddies</a></li>
<li><a href="test.html">Your History</a></li>
<li><a href="test.html">Settings</a></li>
</nav>

<div class="divcss1">
  <div class="table" id="example">
    <form>
      <input id="searchName" type="text" name="" onkeyup="search()" placeholder="Search for names.." >
    </form>
    <table id= "userdata" >
      <thead>
             <th>UserName    </th>
             <th>    Request</th>
         </thead>
         <tbody>
           <tr>
            <td> Bishop </td>
            <td> <button class='request'>Request</button> </td>
           </tr>
           <tr>
            <td> Franklin </td>
            <td> <button class='request'>Request</button> </td>
           </tr>
           <tr>
            <td> Ellis </td>
            <td> <button class='request'>Request</button> </td>
           </tr>
           <tr>
            <td> Harvey </td>
            <td> <button class='request'>Request</button> </td>
           </tr>
           <tr>
            <td> Stevens </td>
            <td> <button class='request'>Request</button> </td>
           </tr>
        </tbody>
        </table>
  </div>
    <div class="d8" id="small6" >
    </div>
</div>
<script>

$(document).ready(function(){
  $.getJSON('courselist.json', function(data) {
      $.each(data.cliu567, function(item, f) {
        var cn=f.coursename;
         var tbl = "<p class='request1'>" + cn + "</p>";
         $("p").css({"background-color": "#003366", "font-size": "200%","color": "white","padding": "5px","font-family": "Arial",
       "width":"200", "height":"50",  "text-align":"center","border-radius": "15%"});
         $("p").attr('id', cn);
          $(tbl).appendTo("#small6");

          $("p").on('click',function(){
            $('p.request1').css({"background-color": "#003366", "font-size": "200%","color": "white","padding": "5px","font-family": "Arial",
          "width":"200", "height":"50",  "text-align":"center","border-radius": "15%"});
            var text=$(this).closest('p').contents().text();
            event.preventDefault();
          //alert( $(this).attr('id'));

          this.style.background="#004d00";
          $(function() {
          var courses = [];
          //var va=elmnt.alt;
          $.getJSON('courses.json', function(data) {
           $('#userdata tbody').empty();

             $.each(data.courses, function(item, f) {
               if(f.course==text){
                var tblRow = "<tr>" +
                 "<td>" + f.lastName + "</td>" + "<td> <button class='request'>Request</button> </td>" + "</tr>";
                 $(tblRow).appendTo("#userdata tbody");
               }
             });
          });
          });

                });

});

  });
});

</script>

<script>
$("#userdata").on('click','.request',function(){
  var text=$(this).closest('td').siblings().contents().text();
  alert("Friend request to "+text+" have been send!");

  $.ajax({
    type       : "POST",
    url        : "url",
    data       : {username : JSON.stringify(text)},
    dataType   : 'json',
    success    : function(response) {
        alert('Works!');
    },
    error      : function() {
        alert('No working!');
    }
});
});

function search() {
  // Declare variables
  var input, filter, table, tr, td, i;
  input = document.getElementById("searchName");
  filter = input.value.toUpperCase();
  table = document.getElementById("userdata");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>





<footer>
</footer>

</body>
</html>
/*put images that when you click it, the students that enrolled in that class will show up,
for each student there is a request button, when you click that button, it will send a request
to that student, if he/she accept your request, he/she will show up in your friendlist, then
you can chat with he or she in the chat section.*/
